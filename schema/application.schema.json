{
  "type": "object",
  "required": [
    "architecture",
    "port",
    "usage"
  ],
  "properties": {
    "architecture": {
      "title": "架构",
      "type": "string",
      "default": "standalone",
      "oneOf": [
        {
          "const": "standalone",
          "title": "单节点"
        },
        {
          "const": "high-availability",
          "title": "高可用"
        }
      ]
    },
    "port": {
      "title": "端口",
      "type": "number",
      "maximum": 65535,
      "minimum": 1024,
      "default": 11211
    },
    "usage": {
      "type": "string",
      "oneOf": [
        {
          "const": "50m/64Mi",
          "title": "64M(memory 64M, cpu 50m)"
        },
        {
          "const": "1000m/1Gi",
          "title": "1G(memory 1024M, cpu 1000m)"
        },
        {
          "const": "1000m/2Gi",
          "title": "2G(memory 2048M, cpu 1000m)"
        },
        {
          "const": "1000m/4Gi",
          "title": "4G(memory 4096M, cpu 1000m)"
        },
        {
          "const": "1000m/8Gi",
          "title": "8G(memory 8192M, cpu 1000m)"
        },
        {
          "const": "2000m/16Gi",
          "title": "16G(memory 16384M, cpu 2000m)"
        }
      ],
      "default": "50m/64Mi"
    }
  },
  "dependencies": {
    "architecture": {
      "oneOf": [
        {
          "properties": {
            "architecture": {
              "title": "架构",
              "type": "string",
              "oneOf": [
                {
                  "const": "standalone",
                  "title": "单节点"
                }
              ]
            }
          }
        },
        {
          "properties": {
            "architecture": {
              "title": "架构",
              "type": "string",
              "oneOf": [
                {
                  "const": "high-availability",
                  "title": "高可用"
                }
              ]
            },
            "replicaCount": {
              "title": "副本数",
              "type": "number",
              "default": 1,
              "maximum": 10,
              "minimum": 0
            }
          }
        }
      ]
    }
  }
}
